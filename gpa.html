<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>학점 계산기</title>
    <style>
    body { font-family: 'Noto Sans KR', sans-serif; background: #f7f9fc; margin: 0; }
    main { max-width: 400px; margin: 3rem auto; background: white; border-radius: 12px; box-shadow: 0 2px 8px #eee; padding: 2rem; }
    label { display: block; margin: 1rem 0 0.4rem; }
    input[type=number] { width: 100%; padding: 0.5rem; border-radius: 6px; border: 1px solid #ccc; }
    button { margin-top: 1.3rem; width: 100%; background: #004080; color: white; border: none; padding: 0.8rem; font-size: 1.05rem; border-radius: 8px; cursor: pointer;}
    .result { margin-top: 1.2rem; font-size: 1.1rem; color: #004080; font-weight: bold; }
  </style>
</head>
<body>
  <main>
    <button class="main-btn" onclick="location.href='https://goonos.github.io/SNU2025/index.html'">홈으로</button>    <h2>학점 계산기</h2>
    <form id="gpaForm">
      <div class="grade-section">
        <label for="grade1">1학년 평균 학점</label>
        <div class="grade-row">
          <input type="number" step="0.01" min="0" max="4.5" id="grade1" class="grade" required>
          <button type="button" class="grade-reset-btn" data-grade="1">리셋</button>
        </div>
      </div>
      <div class="grade-section">
        <label for="grade2">2학년 평균 학점</label>
        <div class="grade-row">
          <input type="number" step="0.01" min="0" max="4.5" id="grade2" class="grade" required>
          <button type="button" class="grade-reset-btn" data-grade="2">리셋</button>
        </div>
      </div>
      <div class="grade-section">
        <label for="grade3">3학년 평균 학점</label>
        <div class="grade-row">
          <input type="number" step="0.01" min="0" max="4.5" id="grade3" class="grade" required>
          <button type="button" class="grade-reset-btn" data-grade="3">리셋</button>
        </div>
      </div>
      <div class="grade-section">
        <label for="grade4">4학년 평균 학점</label>
        <div class="grade-row">
          <input type="number" step="0.01" min="0" max="4.5" id="grade4" class="grade" required>
          <button type="button" class="grade-reset-btn" data-grade="4">리셋</button>
        </div>
      </div>
      <button type="submit">평균 학점 계산</button>
    </form>
    <div class="result" id="result"></div>
  </main>
  <script>
    // 로컬스토리지에서 불러오기
    function loadGrades() {
      for(let i=1; i<=4; i++) {
        const val = localStorage.getItem('grade'+i);
        if(val !== null) document.getElementById('grade'+i).value = val;
      }
    }
    // 입력값 바뀔 때마다 저장
    document.querySelectorAll('.grade').forEach(function(input, idx){
      input.addEventListener('input', function() {
        localStorage.setItem('grade'+(idx+1), input.value);
      });
    });
    // 리셋버튼
    document.querySelectorAll('.grade-reset-btn').forEach(function(btn){
      btn.addEventListener('click', function(){
        const idx = btn.getAttribute('data-grade');
        localStorage.removeItem('grade'+idx);
        document.getElementById('grade'+idx).value = '';
      });
    });
    // 계산
    document.getElementById('gpaForm').addEventListener('submit', function(e) {
      e.preventDefault();
      let grades = [];
      for(let i=1;i<=4;i++){
        const v = parseFloat(document.getElementById('grade'+i).value);
        if(!isNaN(v)) grades.push(v);
      }
      if(grades.length === 0) {
        document.getElementById('result').innerText = '학점을 입력해 주세요.';
        return;
      }
      const sum = grades.reduce((a,b) => a+b, 0);
      const avg = sum / grades.length;
      document.getElementById('result').innerText =
        `전체 평균 학점: ${avg.toFixed(2)}`;
    });

    loadGrades();
  </script>
</body>
</html>
