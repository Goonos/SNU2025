<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>학점 계산기</title>
  <style>
    body { font-family: 'Noto Sans KR', sans-serif; background: #f7f9fc; margin: 0; }
    main { max-width: 400px; margin: 3rem auto; background: white; border-radius: 12px; box-shadow: 0 2px 8px #eee; padding: 2rem; }
    label { display: block; margin: 1rem 0 0.4rem; }
    input[type=number] { width: 100%; padding: 0.5rem; border-radius: 6px; border: 1px solid #ccc; }
    button { margin-top: 1.3rem; width: 100%; background: #004080; color: white; border: none; padding: 0.8rem; font-size: 1.05rem; border-radius: 8px; cursor: pointer;}
    .result { margin-top: 1.2rem; font-size: 1.1rem; color: #004080; font-weight: bold; }
    .input-list { margin-bottom: 1.5rem;}
  </style>
</head>
<body>
  <main>
    <button class="main-btn" onclick="location.href='main.html'">홈으로</button>
    <h2>학점 계산기</h2>
    <form id="gpaForm">
      <div class="input-list" id="inputList">
        <label>1번 과목 학점</label>
        <input type="number" class="grade" step="0.01" min="0" max="4.5" required />
      </div>
      <button type="button" onclick="addInput()">과목 추가</button>
      <button type="submit">평균 학점 계산</button>
    </form>
    <div class="result" id="result"></div>
  </main>
  <script>
    let subjectCount = 1;
    function addInput() {
      subjectCount++;
      const inputList = document.getElementById('inputList');
      const label = document.createElement('label');
      label.textContent = `${subjectCount}번 과목 학점`;
      const input = document.createElement('input');
      input.type = "number";
      input.className = "grade";
      input.step = "0.01";
      input.min = "0";
      input.max = "4.5";
      input.required = true;
      inputList.appendChild(label);
      inputList.appendChild(input);
    }
    document.getElementById('gpaForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const grades = Array.from(document.querySelectorAll('.grade'))
        .map(el => parseFloat(el.value))
        .filter(v => !isNaN(v));
      if (grades.length === 0) {
        document.getElementById('result').innerText = '학점을 입력해 주세요.';
        return;
      }
      const sum = grades.reduce((a,b) => a+b, 0);
      const avg = sum / grades.length;
      document.getElementById('result').innerText =
        `평균 학점: ${avg.toFixed(2)} (${grades.length}과목)`;
    });
  </script>
</body>
</html>
